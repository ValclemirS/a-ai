<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>teste, aceita sair comigo?</title>
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@400;600&family=Caveat:wght@400;700&display=swap" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.12/typed.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <style>
    :root {
      --rosa-claro: #ffd1dc;
      --rosa-medio: #ff8fab;
      --rosa-escuro: #e75480;
      --roxo: #6a1b9a;
      --verde: #4caf50;
      --vermelho: #f44336;
      --azul: #2196f3;
      --gold: #FFD700;
      --ciano: #00bcd4;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, var(--rosa-claro), #ffe4e1);
      text-align: center;
      color: #333;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow-x: hidden;
      padding: 20px;
      cursor: none;
    }

    .custom-cursor {
      position: fixed;
      width: 30px;
      height: 30px;
      color: var(--rosa-escuro);
      font-size: 24px;
      pointer-events: none;
      z-index: 9999;
      transform: translate(-50%, -50%);
      transition: transform 0.1s ease-out;
    }

    .container {
      max-width: 750px;
      background-color: rgba(255, 255, 255, 0.97);
      padding: 50px 40px;
      border-radius: 25px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
      position: relative;
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .container:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
    }

    .container::before {
      content: "";
      position: absolute;
      inset: -10px;
      background: linear-gradient(45deg, var(--rosa-medio), var(--ciano), var(--roxo));
      z-index: -1;
      border-radius: 30px;
      animation: gradientBG 12s ease infinite;
      background-size: 300% 300%;
      opacity: 0.7;
    }

    h1 {
      font-family: 'Pacifico', cursive;
      font-size: 3.2em;
      color: var(--rosa-escuro);
      margin: 20px 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      background: linear-gradient(to right, var(--rosa-escuro), var(--roxo));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    p {
      font-size: 1.3em;
      margin-bottom: 25px;
      line-height: 1.7;
      font-family: 'Caveat', cursive;
      color: #555;
    }

    .photo-frame {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 8px solid white;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
      overflow: hidden;
      margin: 0 auto 30px;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      position: relative;
    }

    .photo-frame:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
    }

    .photo-frame::after {
      content: "‚ú®";
      position: absolute;
      top: -15px;
      right: -15px;
      font-size: 30px;
      animation: spin 4s linear infinite;
    }

    .photo-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s;
    }

    .photo-frame:hover img {
      transform: scale(1.05);
    }

    .btn-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
      margin-bottom: 30px;
      position: relative;
    }

    .btn {
      padding: 16px 35px;
      font-size: 1.2em;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
      font-family: 'Montserrat', sans-serif;
      position: relative;
      overflow: hidden;
    }

    .btn::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(255,255,255,0.3), rgba(255,255,255,0));
      opacity: 0;
      transition: opacity 0.3s;
    }

    .btn:hover::after {
      opacity: 1;
    }

    .yes {
      background: linear-gradient(45deg, var(--verde), #66BB6A);
      color: white;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    .yes:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
    }

    .no {
      background: linear-gradient(45deg, var(--vermelho), #E53935);
      color: white;
      position: absolute;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    .no:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    #response {
      font-size: 1.8em;
      color: var(--roxo);
      min-height: 100px;
      font-family: 'Caveat', cursive;
      margin: 20px 0;
      padding: 15px;
      background: rgba(255, 255, 255, 0.7);
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .date-options {
      margin-top: 30px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 20px;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .date-btn {
      background: linear-gradient(45deg, var(--rosa-medio), var(--ciano));
      color: white;
      padding: 14px 28px;
      margin: 10px;
      border-radius: 30px;
      border: none;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      cursor: pointer;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .date-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
    }

    .hearts {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: -2;
    }

    .heart {
      position: absolute;
      font-size: 25px;
      color: var(--rosa-escuro);
      opacity: 0;
      animation: float 6s ease-in-out infinite;
      text-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .music-control {
      position: fixed;
      top: 25px;
      right: 25px;
      background: linear-gradient(45deg, var(--rosa-medio), var(--roxo));
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      z-index: 1000;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      border: 2px solid white;
    }

    .music-control:hover {
      transform: scale(1.1) rotate(15deg);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
    }

    .countdown {
      font-size: 1.5em;
      margin: 25px 0;
      color: var(--roxo);
      font-weight: bold;
      font-family: 'Caveat', cursive;
      background: rgba(255, 255, 255, 0.7);
      padding: 15px;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .gallery {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
    }

    .gallery-item {
      width: 120px;
      height: 120px;
      border-radius: 20px;
      overflow: hidden;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      position: relative;
    }

    .gallery-item::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.3));
      opacity: 0;
      transition: opacity 0.3s;
    }

    .gallery-item:hover {
      transform: scale(1.15) rotate(3deg);
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
    }

    .gallery-item:hover::before {
      opacity: 1;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s;
    }

    .gallery-item:hover img {
      transform: scale(1.1);
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .modal.show {
      opacity: 1;
      display: flex;
    }

    .modal-content {
      max-width: 85%;
      max-height: 85%;
      position: relative;
    }

    .modal-content img {
      width: 100%;
      height: auto;
      border-radius: 20px;
      box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7);
      transform: scale(0.9);
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    .modal.show .modal-content img {
      transform: scale(1);
      opacity: 1;
    }

    .modal-nav {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      padding: 0 20px;
    }

    .modal-nav button {
      background: linear-gradient(45deg, var(--rosa-medio), var(--roxo));
      border: none;
      color: white;
      font-size: 28px;
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      border-radius: 50%;
      transition: all 0.3s;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      opacity: 0.8;
    }

    .modal-nav button:hover {
      opacity: 1;
      transform: scale(1.1);
    }

    .close-modal {
      position: absolute;
      top: 30px;
      right: 40px;
      color: white;
      font-size: 50px;
      cursor: pointer;
      z-index: 1001;
      transition: all 0.3s;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
    }

    .close-modal:hover {
      transform: rotate(90deg) scale(1.2);
      color: var(--rosa-medio);
    }

    .memory {
      background: rgba(255, 209, 220, 0.6);
      padding: 25px;
      border-radius: 20px;
      margin: 25px 0;
      text-align: left;
      position: relative;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
      border-left: 5px solid var(--rosa-escuro);
    }

    .memory:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
    }

    .memory::before {
      content: "üí≠";
      position: absolute;
      left: 15px;
      top: -15px;
      font-size: 30px;
      animation: swing 3s ease-in-out infinite;
    }

    .love-letter {
      background: linear-gradient(135deg, rgba(255, 209, 220, 0.7), rgba(255, 255, 255, 0.9));
      padding: 30px;
      border-radius: 20px;
      margin: 25px 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      text-align: left;
      font-family: 'Caveat', cursive;
      font-size: 1.4em;
      color: var(--roxo);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.5);
    }

    .love-letter::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://www.transparenttextures.com/patterns/light-paper-fibers.png');
      opacity: 0.2;
      z-index: -1;
    }

    .love-letter h2 {
      font-family: 'Pacifico', cursive;
      color: var(--rosa-escuro);
      margin-bottom: 20px;
      font-size: 2em;
      text-align: center;
    }

    .share-btn {
      background: linear-gradient(45deg, var(--azul), #1976D2);
      color: white;
      padding: 15px 30px;
      border-radius: 30px;
      border: none;
      cursor: pointer;
      font-size: 1.1em;
      margin-top: 25px;
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
      font-weight: 600;
    }

    .share-btn:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
    }

    canvas#particleCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -3;
      pointer-events: none;
    }

    .hidden {
      display: none;
    }

    .map-container {
      margin: 25px 0;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      height: 300px;
      background: #eee;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    .map-container::before {
      content: "üìç Local do encontro";
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(255, 255, 255, 0.9);
      padding: 5px 15px;
      border-radius: 20px;
      font-weight: bold;
      color: var(--roxo);
      z-index: 1;
    }

    .map-placeholder {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(45deg, var(--rosa-claro), var(--ciano));
      color: white;
      font-weight: bold;
      font-size: 1.2em;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-200px) rotate(20deg); opacity: 0; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    @keyframes swing {
      0%, 100% { transform: rotate(-5deg); }
      50% { transform: rotate(5deg); }
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes heartbeat {
      0% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(1); }
      75% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    @media (max-width: 768px) {
      .container {
        padding: 30px 20px;
        max-width: 95%;
      }

      h1 {
        font-size: 2.5em;
      }

      p {
        font-size: 1.2em;
      }

      .photo-frame {
        width: 150px;
        height: 150px;
      }

      .btn {
        padding: 14px 28px;
        font-size: 1em;
      }

      .gallery-item {
        width: 100px;
        height: 100px;
      }

      .modal-nav button {
        width: 40px;
        height: 40px;
        font-size: 20px;
      }

      .close-modal {
        font-size: 40px;
        top: 20px;
        right: 20px;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 2em;
      }

      p {
        font-size: 1.1em;
      }

      .photo-frame {
        width: 130px;
        height: 130px;
      }

      .btn-container {
        flex-direction: column;
        align-items: center;
      }

      .no {
        position: relative;
        margin-top: 15px;
      }

      .gallery-item {
        width: 80px;
        height: 80px;
      }

      .love-letter {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <canvas id="particleCanvas"></canvas>
  <div class="hearts" id="hearts"></div>
  <div class="custom-cursor" id="customCursor">üíñ</div>
  <div class="music-control" id="musicControl">
    <i class="fas fa-music"></i>
  </div>
  <audio id="bgMusic" loop>
    <source src="forromullekesdepatrao-xote-de-alegria-2025-2381e0f4.mp3" type="audio/mpeg">
  </audio>

  <div class="container animate__animated animate__fadeIn">
    <div class="photo-frame" onclick="showPhotoModal()">
      <img src="Imagem do WhatsApp de 2025-06-30 √†(s) 19.36.54_cd2491d5.jpg" alt="Foto de perfil"/>
    </div>

    <h1 id="typed-title"></h1>
    <p>Estava pensando... que tal sair pra conversar, rir e tomar um a√ßa√≠ juntos? üçß</p>
    <p>Prometo boas conversas, muitas risadas e momentos inesquec√≠veis! ‚ú®</p>

    <div class="memory animate__animated animate__fadeInLeft">
      <p>Lembra daquela vez que... ah, espera, ainda vamos criar nossas primeiras mem√≥rias juntas! Mas imagino que ser√£o t√£o especiais quanto voc√™ √©. üòä</p>
    </div>

    <div class="love-letter animate__animated animate__fadeInRight">
      <h2>Uma cartinha para voc√™</h2>
      <p>Querida teste,</p>
      <p>Desde que te conheci, sinto que cada dia tem um brilho especial. Sua energia ilumina tudo ao redor, e eu adoraria compartilhar momentos incr√≠veis ao seu lado.</p>
      <p>Que tal come√ßarmos essa aventura com um encontro descontra√≠do? Podemos tomar um a√ßa√≠, conversar sobre tudo e nada, e quem sabe descobrir que temos ainda mais em comum do que imaginamos.</p>
      <p>Prometo fazer desse um dia memor√°vel, cheio de boas risadas e conversas que valham a pena.</p>
      <p>Com carinho,</p>
      <p>Algu√©m que est√° ansioso para te conhecer melhor üíï</p>
    </div>

    <div class="gallery">
      <div class="gallery-item" onclick="openModal(0)">
        <img src="pngtree-tranquil-universe-background-picture-image_1337175.jpg" alt="Foto 1">
      </div>
      <div class="gallery-item" onclick="openModal(1)">
        <img src="Imagem do WhatsApp de 2025-06-30 √†(s) 19.38.26_c13896a3.jpg" alt="Foto 2">
      </div>
      <div class="gallery-item" onclick="openModal(2)">
        <img src="6b78f069-951b-4ece-a1d8-56345369d3a0_16-9-discover-aspect-ratio_default_1206621.jpg" alt="Foto 3">
      </div>
    </div>

    <div class="btn-container">
      <button class="btn yes pulse" onclick="responder('sim')">Sim! Quero sim! üòç</button>
      <button class="btn no" id="noBtn" onmouseover="fugirDoBotao()">N√£o üòÖ</button>
    </div>

    <div id="response" class="animate__animated"></div>

    <div id="dateOptions" class="date-options hidden">
      <p>Que √≥timo! üíñ Qual dia seria melhor pra voc√™?</p>
      <button class="date-btn" onclick="escolherData('Sexta-feira')">Sexta-feira</button>
      <button class="date-btn" onclick="escolherData('S√°bado')">S√°bado</button>
      <button class="date-btn" onclick="escolherData('Domingo')">Domingo</button>
      <p id="confirmacaoData" class="hidden"></p>
      <div id="countdown" class="countdown hidden"></div>
      
      <div class="map-container hidden" id="mapContainer">
        <div class="map-placeholder">
          Local do encontro ser√° combinado!
        </div>
      </div>
    </div>

    

  <div class="modal" id="photoModal">
    <span class="close-modal" onclick="closeModal()">√ó</span>
    <div class="modal-content">
      <img id="modalImage" src="" alt="Foto ampliada">
      <div class="modal-nav">
        <button onclick="prevImage()">‚ùÆ</button>
        <button onclick="nextImage()">‚ùØ</button>
      </div>
    </div>
  </div>

  <script>
    // Elementos DOM
    const musicControl = document.getElementById('musicControl');
    const bgMusic = document.getElementById('bgMusic');
    const photoModal = document.getElementById('photoModal');
    const modalImage = document.getElementById('modalImage');
    const customCursor = document.getElementById('customCursor');
    let isMusicPlaying = false;
    let selectedDate = null;
    let currentImageIndex = 0;
    const images = [
      'https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
      'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60',
      'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60'
    ];

    // Typing effect
    const typed = new Typed('#typed-title', {
      strings: ['teste, aceita sair comigo? üíñ'],
      typeSpeed: 80,
      showCursor: false,
      onComplete: () => {
        gsap.to('#typed-title', { 
          duration: 1, 
          scale: 1.05, 
          yoyo: true, 
          repeat: -1, 
          ease: 'power1.inOut' 
        });
      }
    });

    // Custom cursor
    document.addEventListener('mousemove', (e) => {
      gsap.to(customCursor, { 
        duration: 0.1, 
        x: e.clientX, 
        y: e.clientY 
      });
      
      // Efeito de arrasto no cursor
      const x = e.clientX;
      const y = e.clientY;
      
      gsap.to(customCursor, {
        x: x,
        y: y,
        duration: 0.5,
        ease: "power2.out"
      });
    });

    // Efeito de hover no cursor
    document.querySelectorAll('button, .photo-frame, .gallery-item').forEach(el => {
      el.addEventListener('mouseenter', () => {
        gsap.to(customCursor, {
          scale: 1.5,
          duration: 0.3
        });
      });
      
      el.addEventListener('mouseleave', () => {
        gsap.to(customCursor, {
          scale: 1,
          duration: 0.3
        });
      });
    });

    // Particle background
    const canvas = document.getElementById('particleCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    const particles = [];
    class Particle {
      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.size = Math.random() * 8 + 2;
        this.speedX = Math.random() * 2 - 1;
        this.speedY = Math.random() * 2 - 1;
        this.color = `hsl(${Math.random() * 60 + 320}, 100%, ${Math.random() * 30 + 60}%)`;
        this.opacity = Math.random() * 0.6 + 0.2;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        
        // Rebate nas bordas
        if (this.x > canvas.width || this.x < 0) {
          this.speedX = -this.speedX;
        }
        
        if (this.y > canvas.height || this.y < 0) {
          this.speedY = -this.speedY;
        }
        
        // Efeito de pulsa√ß√£o
        if (this.size > 0.2) this.size -= 0.05;
      }
      draw() {
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.opacity;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1;
      }
    }

    function initParticles() {
      for (let i = 0; i < 80; i++) {
        particles.push(new Particle());
      }
    }

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Fundo gradiente sutil
      const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
      gradient.addColorStop(0, 'rgba(255, 209, 220, 0.1)');
      gradient.addColorStop(1, 'rgba(224, 187, 228, 0.1)');
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      for (let i = 0; i < particles.length; i++) {
        particles[i].update();
        particles[i].draw();
        
        if (particles[i].size <= 0.2) {
          particles.splice(i, 1);
          i--;
          particles.push(new Particle());
        }
      }
      requestAnimationFrame(animateParticles);
    }

    initParticles();
    animateParticles();

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });

    // Controle de m√∫sica
    musicControl.addEventListener('click', () => {
      if (isMusicPlaying) {
        bgMusic.pause();
        musicControl.innerHTML = '<i class="fas fa-music"></i>';
      } else {
        bgMusic.play();
        musicControl.innerHTML = '<i class="fas fa-pause"></i>';
        gsap.to(musicControl, { 
          duration: 0.5, 
          rotation: 360, 
          ease: 'power2.out' 
        });
      }
      isMusicPlaying = !isMusicPlaying;
    });

    function responder(resposta) {
      const responseDiv = document.getElementById('response');
      const dateOptions = document.getElementById('dateOptions');
      const mapContainer = document.getElementById('mapContainer');

      if (resposta === 'sim') {
        responseDiv.innerHTML = 'Uhuuul! Mal posso esperar! üíñ<br>Vai ser maravilhoso!';
        responseDiv.classList.add('animate__heartBeat');
        
        gsap.to(responseDiv, { 
          duration: 1, 
          scale: 1.1, 
          yoyo: true, 
          repeat: 1, 
          ease: 'elastic.out' 
        });
        
        criarCoracoes(150);
        
        // Confete especial
        confetti({
          particleCount: 300,
          spread: 100,
          origin: { y: 0.6 },
          colors: ['#ff8fab', '#ffd1dc', '#e75480', '#6a1b9a', '#00bcd4'],
          shapes: ['circle', 'square', 'star'],
          scalar: 1.2
        });

        setTimeout(() => {
          dateOptions.classList.remove('hidden');
          mapContainer.classList.remove('hidden');
          
          gsap.fromTo(dateOptions, { 
            opacity: 0, 
            y: 50 
          }, { 
            opacity: 1, 
            y: 0, 
            duration: 1, 
            ease: 'power2.out' 
          });
          
          gsap.fromTo(mapContainer, {
            opacity: 0,
            y: 50
          }, {
            opacity: 1,
            y: 0,
            duration: 1,
            ease: 'power2.out',
            delay: 0.3
          });
        }, 2000);
      }
    }

    function escolherData(dia) {
      const confirmacao = document.getElementById('confirmacaoData');
      const countdown = document.getElementById('countdown');
      const mapContainer = document.getElementById('mapContainer');
      selectedDate = dia;

      confirmacao.innerHTML = `Perfeito! Nos vemos <strong>${dia}</strong> ent√£o! üíï<br>Te mando os detalhes do local em breve.`;
      confirmacao.classList.remove('hidden');
      
      gsap.from(confirmacao, { 
        opacity: 0, 
        y: 20, 
        duration: 1, 
        ease: 'power2.out' 
      });

      countdown.classList.remove('hidden');
      criarCoracoes(80);
      startCountdown();
      
      // Anima√ß√£o do mapa
      gsap.to(mapContainer, {
        scale: 1.05,
        duration: 0.5,
        yoyo: true,
        repeat: 1,
        ease: "power1.inOut"
      });
    }

    function startCountdown() {
      const countdown = document.getElementById('countdown');
      let daysUntilDate;

      switch (selectedDate) {
        case 'Sexta-feira':
          daysUntilDate = 5 - new Date().getDay();
          if (daysUntilDate < 0) daysUntilDate += 7;
          break;
        case 'S√°bado':
          daysUntilDate = 6 - new Date().getDay();
          if (daysUntilDate < 0) daysUntilDate += 7;
          break;
        case 'Domingo':
          daysUntilDate = 7 - new Date().getDay();
          if (daysUntilDate < 0) daysUntilDate += 7;
          break;
      }

      const targetDate = new Date();
      targetDate.setDate(targetDate.getDate() + daysUntilDate);
      targetDate.setHours(18, 0, 0, 0);

      const countdownInterval = setInterval(() => {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance < 0) {
          clearInterval(countdownInterval);
          countdown.innerHTML = "Hoje √© o grande dia! üéâ";
          
          // Efeito especial quando chegar o dia
          gsap.to(countdown, {
            scale: 1.2,
            duration: 0.5,
            yoyo: true,
            repeat: -1,
            ease: "power1.inOut"
          });
          
          confetti({
            particleCount: 150,
            spread: 90,
            origin: { y: 0.6 },
            colors: ['#ff8fab', '#e75480', '#6a1b9a', '#00bcd4']
          });
          
          criarCoracoes(30);
          return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        countdown.innerHTML = `Contagem regressiva: ${days}d ${hours}h ${minutes}m ${seconds}s`;
      }, 1000);
    }

    function fugirDoBotao() {
      const btn = document.getElementById('noBtn');
      const container = document.querySelector('.container');
      const x = Math.random() * (container.clientWidth - btn.clientWidth);
      const y = Math.random() * (container.clientHeight - btn.clientHeight);
      
      gsap.to(btn, { 
        left: x, 
        top: y, 
        duration: 0.5, 
        ease: 'power2.out' 
      });
      
      gsap.to(btn, { 
        rotation: 360, 
        duration: 0.5, 
        ease: 'power2.out', 
        onComplete: () => gsap.set(btn, { rotation: 0 }) 
      });
      
      // Efeito de nega√ß√£o
      const noTexts = ["Tem certeza?", "Pensa bem!", "D√° outra chance!", "Eu insisto!", "Por favor? ü•∫"];
      btn.textContent = noTexts[Math.floor(Math.random() * noTexts.length)];
      
      // Cora√ß√£o quebrado
      const brokenHeart = document.createElement('div');
      brokenHeart.className = 'heart';
      brokenHeart.textContent = 'üíî';
      brokenHeart.style.left = btn.offsetLeft + 'px';
      brokenHeart.style.top = btn.offsetTop + 'px';
      brokenHeart.style.position = 'absolute';
      brokenHeart.style.animation = 'float 3s ease-in-out forwards';
      document.querySelector('.btn-container').appendChild(brokenHeart);
      
      setTimeout(() => {
        brokenHeart.remove();
      }, 3000);
    }

    function criarCoracoes(qtde) {
      const container = document.getElementById('hearts');
      const heartTypes = ['‚ù§', 'üíñ', 'üíó', 'üíì', 'üíò', 'üíù', 'üíû'];
      
      for (let i = 0; i < qtde; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = heartTypes[Math.floor(Math.random() * heartTypes.length)];
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.animationDuration = (4 + Math.random() * 4) + 's';
        heart.style.fontSize = (20 + Math.random() * 30) + 'px';
        heart.style.animationDelay = Math.random() * 2 + 's';
        container.appendChild(heart);

        setTimeout(() => {
          heart.remove();
        }, 6000);
      }
    }

    function showPhotoModal() {
      currentImageIndex = 0;
      photoModal.classList.add('show');
      modalImage.src = 'https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60';
      
      gsap.from(modalImage, { 
        opacity: 0, 
        scale: 0.8, 
        duration: 0.5, 
        ease: 'back.out' 
      });
    }

    function openModal(index) {
      currentImageIndex = index;
      photoModal.classList.add('show');
      modalImage.src = images[currentImageIndex];
      
      gsap.from(modalImage, { 
        opacity: 0, 
        scale: 0.8, 
        duration: 0.5, 
        ease: 'back.out' 
      });
    }

    function prevImage() {
      currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
      modalImage.src = images[currentImageIndex];
      
      gsap.from(modalImage, { 
        x: -50, 
        opacity: 0, 
        duration: 0.5, 
        ease: 'power2.out' 
      });
    }

    function nextImage() {
      currentImageIndex = (currentImageIndex + 1) % images.length;
      modalImage.src = images[currentImageIndex];
      
      gsap.from(modalImage, { 
        x: 50, 
        opacity: 0, 
        duration: 0.5, 
        ease: 'power2.out' 
      });
    }

    function closeModal() {
      gsap.to(modalImage, {
        opacity: 0,
        scale: 0.8,
        duration: 0.5,
        ease: 'back.in',
        onComplete: () => {
          photoModal.classList.remove('show');
        }
      });
    }

    function shareInvite() {
      const shareData = {
        title: 'Convite Especial para teste',
        text: 'teste, aceita sair comigo? üíñ Confira o convite especial que preparei para voc√™!',
        url: window.location.href
      };
      
      if (navigator.share) {
        navigator.share(shareData)
          .then(() => {
            // Feedback visual ao compartilhar
            const originalText = document.querySelector('.share-btn').innerHTML;
            document.querySelector('.share-btn').innerHTML = '<i class="fas fa-check"></i> Compartilhado!';
            
            setTimeout(() => {
              document.querySelector('.share-btn').innerHTML = originalText;
            }, 2000);
          })
          .catch(console.error);
      } else {
        // Fallback para navegadores sem suporte √† API de compartilhamento
        const tempInput = document.createElement('input');
        tempInput.value = window.location.href;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand('copy');
        document.body.removeChild(tempInput);
        
        const originalText = document.querySelector('.share-btn').innerHTML;
        document.querySelector('.share-btn').innerHTML = '<i class="fas fa-check"></i> Link copiado!';
        
        setTimeout(() => {
          document.querySelector('.share-btn').innerHTML = originalText;
        }, 2000);
      }
    }

    window.onclick = function(event) {
      if (event.target == photoModal) {
        closeModal();
      }
    }

    window.onload = () => {
      // Inicia com alguns cora√ß√µes flutuantes
      criarCoracoes(30);
      
      // Anima√ß√£o sutil do container
      gsap.to('.container', { 
        duration: 2, 
        y: -20, 
        ease: 'sine.inOut', 
        repeat: -1, 
        yoyo: true 
      });
      
      // Anima√ß√£o da foto de perfil periodicamente
      setInterval(() => {
        gsap.to('.photo-frame', { 
          duration: 1.5, 
          rotation: 5, 
          yoyo: true, 
          repeat: 1, 
          ease: 'power1.inOut' 
        });
      }, 8000);
      
      // Anima√ß√£o dos bot√µes de data quando aparecem
      document.querySelectorAll('.date-btn').forEach((btn, i) => {
        btn.style.opacity = 0;
        btn.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
          gsap.to(btn, {
            opacity: 1,
            y: 0,
            duration: 0.8,
            ease: 'back.out',
            delay: i * 0.2
          });
        }, 500);
      });
      
      // Efeito de digita√ß√£o na carta de amor
      const letterTexts = [
        "Querida teste,",
        "Desde que te conheci, sinto que cada dia tem um brilho especial. Sua energia ilumina tudo ao redor, e eu adoraria compartilhar momentos incr√≠veis ao seu lado.",
        "Que tal come√ßarmos essa aventura com um encontro descontra√≠do? Podemos tomar um a√ßa√≠, conversar sobre tudo e nada, e quem sabe descobrir que temos ainda mais em comum do que imaginamos.",
        "Prometo fazer desse um dia memor√°vel, cheio de boas risadas e conversas que valham a pena.",
        "Com carinho,",
        "Algu√©m que est√° ansioso para te conhecer melhor üíï"
      ];
      
      const letterParagraphs = document.querySelectorAll('.love-letter p');
      letterParagraphs.forEach((p, i) => {
        if (i < letterTexts.length) {
          p.textContent = '';
          let charIndex = 0;
          const typingInterval = setInterval(() => {
            if (charIndex < letterTexts[i].length) {
              p.textContent += letterTexts[i].charAt(charIndex);
              charIndex++;
            } else {
              clearInterval(typingInterval);
            }
          }, 30 + Math.random() * 30);
        }
      });
    };
  </script>
</body>
</html>